# 演習3

## 1. 2つのテーブルを内部結合する

```sql
SELECT TS.店舗ID, TS.店舗名, TS.商品ID, S.商品名, S.販売単価
    FROM 店舗商品 AS TS INNER JOIN 商品 AS S
    ON TS.商品ID = S.商品ID
  ORDER BY TS.店舗ID;


SELECT TS.店舗ID, TS.店舗名, TS.商品ID, S.商品名, S.販売単価
    FROM 店舗商品 AS TS, 商品 AS S
    WHERE TS.商品ID = S.商品ID
  ORDER BY TS.店舗ID;
```

- 出力

  ```log
   店舗id | 店舗名 | 商品id |     商品名     | 販売単価
  --------+--------+--------+----------------+----------
  000A   | 東京   | 0001   | Tシャツ        |     1000
  000A   | 東京   | 0002   | 穴あけパンチ   |      500
  000A   | 東京   | 0003   | カッターシャツ |     4000
  000B   | 名古屋 | 0002   | 穴あけパンチ   |      500
  000B   | 名古屋 | 0003   | カッターシャツ |     4000
  000B   | 名古屋 | 0004   | 包丁           |     3000
  000B   | 名古屋 | 0006   | フォーク       |      500
  000B   | 名古屋 | 0007   | おろしがね     |      880
  000C   | 大阪   | 0003   | カッターシャツ |     4000
  000C   | 大阪   | 0004   | 包丁           |     3000
  000C   | 大阪   | 0006   | フォーク       |      500
  000C   | 大阪   | 0007   | おろしがね     |      880
  000D   | 福岡   | 0001   | Tシャツ        |     1000
  (13 rows)
  ```

## 2. 内部結合とWHERE句を組み合わせて使う

```sql
SELECT TS.店舗ID, TS.店舗名, TS.商品ID, S.商品名, S.販売単価
    FROM 店舗商品 TS INNER JOIN 商品 S
    ON TS.商品ID = S.商品ID
  WHERE TS.店舗ID = '000A';
```

- 出力

  ```log
   店舗id | 店舗名 | 商品id |     商品名     | 販売単価
  --------+--------+--------+----------------+----------
  000A   | 東京   | 0001   | Tシャツ        |     1000
  000A   | 東京   | 0002   | 穴あけパンチ   |      500
  000A   | 東京   | 0003   | カッターシャツ |     4000
  (3 rows)
  ```

## 3. 2つのテーブルを外部結合する

```sql
SELECT TS.店舗ID, TS.店舗名, S.商品ID, S.商品名, S.販売単価
    FROM 店舗商品 TS RIGHT OUTER JOIN 商品 S
    ON TS.商品ID = S.商品ID
  ORDER BY TS.店舗ID;
```

- 出力

  ```log
  店舗id | 店舗名 | 商品id |     商品名     | 販売単価
  --------+--------+--------+----------------+----------
  000A   | 東京   | 0001   | Tシャツ        |     1000
  000A   | 東京   | 0002   | 穴あけパンチ   |      500
  000A   | 東京   | 0003   | カッターシャツ |     4000
  000B   | 名古屋 | 0002   | 穴あけパンチ   |      500
  000B   | 名古屋 | 0003   | カッターシャツ |     4000
  000B   | 名古屋 | 0004   | 包丁           |     3000
  000B   | 名古屋 | 0006   | フォーク       |      500
  000B   | 名古屋 | 0007   | おろしがね     |      880
  000C   | 大阪   | 0003   | カッターシャツ |     4000
  000C   | 大阪   | 0004   | 包丁           |     3000
  000C   | 大阪   | 0006   | フォーク       |      500
  000C   | 大阪   | 0007   | おろしがね     |      880
  000D   | 福岡   | 0001   | Tシャツ        |     1000
          |        | 0008   | ボールペン     |      100
          |        | 0005   | 圧力鍋         |     6800
  (15 rows)
  ```

## 4. 3つのテーブルを内部結合する

```sql
SELECT TS.店舗ID, TS.店舗名, TS.商品ID, S.商品名, S.販売単価, ZS.在庫数量
  FROM 店舗商品 AS TS INNER JOIN 商品 AS S
    ON TS.商品ID = S.商品ID
        INNER JOIN 在庫商品 AS ZS ON TS.商品ID = ZS.商品ID
  WHERE ZS.倉庫ID = 'S001'
  ORDER BY TS.店舗ID;
```

- 出力

  ```log
   店舗id | 店舗名 | 商品id |     商品名     | 販売単価 | 在庫数量
  --------+--------+--------+----------------+----------+----------
  000A   | 東京   | 0001   | Tシャツ        |     1000 |        0
  000A   | 東京   | 0002   | 穴あけパンチ   |      500 |      120
  000A   | 東京   | 0003   | カッターシャツ |     4000 |      200
  000B   | 名古屋 | 0002   | 穴あけパンチ   |      500 |      120
  000B   | 名古屋 | 0003   | カッターシャツ |     4000 |      200
  000B   | 名古屋 | 0004   | 包丁           |     3000 |        3
  000B   | 名古屋 | 0006   | フォーク       |      500 |       99
  000B   | 名古屋 | 0007   | おろしがね     |      880 |      999
  000C   | 大阪   | 0003   | カッターシャツ |     4000 |      200
  000C   | 大阪   | 0004   | 包丁           |     3000 |        3
  000C   | 大阪   | 0006   | フォーク       |      500 |       99
  000C   | 大阪   | 0007   | おろしがね     |      880 |      999
  000D   | 福岡   | 0001   | Tシャツ        |     1000 |        0
  (13 rows)
  ```

## 5. 2つのテーブルをクロス結合する

```sql
SELECT TS.店舗ID, TS.店舗名, TS.商品ID, S.商品名
  FROM 店舗商品 AS TS CROSS JOIN 商品 AS S;

SELECT TS.店舗ID, TS.店舗名, TS.商品ID, S.商品名
  FROM 店舗商品 AS TS, 商品 AS S;
```

- 出力

```log
  店舗id | 店舗名 | 商品id |     商品名
  --------+--------+--------+----------------
  000A   | 東京   | 0001   | Tシャツ
  000A   | 東京   | 0002   | Tシャツ
  000A   | 東京   | 0003   | Tシャツ
  000B   | 名古屋 | 0002   | Tシャツ
  000B   | 名古屋 | 0003   | Tシャツ
  000B   | 名古屋 | 0004   | Tシャツ
  000B   | 名古屋 | 0006   | Tシャツ
  000B   | 名古屋 | 0007   | Tシャツ
  000C   | 大阪   | 0003   | Tシャツ
  000C   | 大阪   | 0004   | Tシャツ
  000C   | 大阪   | 0006   | Tシャツ
  000C   | 大阪   | 0007   | Tシャツ
  000D   | 福岡   | 0001   | Tシャツ
  000A   | 東京   | 0001   | 穴あけパンチ
  000A   | 東京   | 0002   | 穴あけパンチ
  000A   | 東京   | 0003   | 穴あけパンチ
  000B   | 名古屋 | 0002   | 穴あけパンチ
  000B   | 名古屋 | 0003   | 穴あけパンチ
  000B   | 名古屋 | 0004   | 穴あけパンチ
  000B   | 名古屋 | 0006   | 穴あけパンチ
  000B   | 名古屋 | 0007   | 穴あけパンチ
  000C   | 大阪   | 0003   | 穴あけパンチ
  000C   | 大阪   | 0004   | 穴あけパンチ
  000C   | 大阪   | 0006   | 穴あけパンチ
  000C   | 大阪   | 0007   | 穴あけパンチ
  000D   | 福岡   | 0001   | 穴あけパンチ
  000A   | 東京   | 0001   | カッターシャツ
  000A   | 東京   | 0002   | カッターシャツ
  000A   | 東京   | 0003   | カッターシャツ
  000B   | 名古屋 | 0002   | カッターシャツ
  000B   | 名古屋 | 0003   | カッターシャツ
  000B   | 名古屋 | 0004   | カッターシャツ
  000B   | 名古屋 | 0006   | カッターシャツ
  000B   | 名古屋 | 0007   | カッターシャツ
  000C   | 大阪   | 0003   | カッターシャツ
  000C   | 大阪   | 0004   | カッターシャツ
  000C   | 大阪   | 0006   | カッターシャツ
  000C   | 大阪   | 0007   | カッターシャツ
  000D   | 福岡   | 0001   | カッターシャツ
  000A   | 東京   | 0001   | 包丁
  000A   | 東京   | 0002   | 包丁
  000A   | 東京   | 0003   | 包丁
  000B   | 名古屋 | 0002   | 包丁
  000B   | 名古屋 | 0003   | 包丁
  000B   | 名古屋 | 0004   | 包丁
  000B   | 名古屋 | 0006   | 包丁
  000B   | 名古屋 | 0007   | 包丁
  000C   | 大阪   | 0003   | 包丁
  000C   | 大阪   | 0004   | 包丁
  000C   | 大阪   | 0006   | 包丁
  000C   | 大阪   | 0007   | 包丁
  000D   | 福岡   | 0001   | 包丁
  000A   | 東京   | 0001   | 圧力鍋
  000A   | 東京   | 0002   | 圧力鍋
  000A   | 東京   | 0003   | 圧力鍋
  000B   | 名古屋 | 0002   | 圧力鍋
  000B   | 名古屋 | 0003   | 圧力鍋
  000B   | 名古屋 | 0004   | 圧力鍋
  000B   | 名古屋 | 0006   | 圧力鍋
  000B   | 名古屋 | 0007   | 圧力鍋
  000C   | 大阪   | 0003   | 圧力鍋
  000C   | 大阪   | 0004   | 圧力鍋
  000C   | 大阪   | 0006   | 圧力鍋
  000C   | 大阪   | 0007   | 圧力鍋
  000D   | 福岡   | 0001   | 圧力鍋
  000A   | 東京   | 0001   | フォーク
  000A   | 東京   | 0002   | フォーク
  000A   | 東京   | 0003   | フォーク
  000B   | 名古屋 | 0002   | フォーク
  000B   | 名古屋 | 0003   | フォーク
  000B   | 名古屋 | 0004   | フォーク
  000B   | 名古屋 | 0006   | フォーク
  000B   | 名古屋 | 0007   | フォーク
  000C   | 大阪   | 0003   | フォーク
  000C   | 大阪   | 0004   | フォーク
  000C   | 大阪   | 0006   | フォーク
  ...
  ```
